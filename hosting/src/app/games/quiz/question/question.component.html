<ng-container *ngIf="question">
    <div class="header">
        <span class="header__number">{{ progress }}</span>
        <div class="header__saved" *ngIf="saved">ANSWERED</div>
    </div>

    <div class="question">
        <h4 class="question__round">{{ round.title }}</h4>

        <div class="question__text" [ngSwitch]="question.type">
            <img *ngSwitchCase="'image'" [src]="question.text" />
            <h2 *ngSwitchDefault [gameMarkdown]="question.text"></h2>
        </div>
    </div>

    <div class="choices">
        <div *ngFor="let choice of question.choiceList">
            <button [ngClass]="{ selected: isSelected(choice) }" (click)="toggleChoice(choice)">{{ choice.text }}</button>
        </div>
    </div>

    <button brand-button (click)="saveAnswer()" [disabled]="!response.length || saving">
        <span *ngIf="saving">Saving</span>
        <ng-container *ngIf="!saving">
            <span *ngIf="saved">Update Answer</span>
            <span *ngIf="!saved">Save Answer</span>
        </ng-container>
    </button>
</ng-container>
